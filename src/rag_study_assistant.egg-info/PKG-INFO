Metadata-Version: 2.4
Name: rag-study-assistant
Version: 0.1.0
Summary: Local-first RAG study assistant skeleton
Author: rag-study-assistant
Project-URL: Homepage, https://example.com
Requires-Python: >=3.11
Description-Content-Type: text/markdown
Requires-Dist: streamlit>=1.29
Requires-Dist: pydantic>=2.6
Requires-Dist: PyYAML>=6.0
Requires-Dist: python-dotenv>=1.0
Requires-Dist: rich>=13.7
Requires-Dist: qdrant-client>=1.8.2
Requires-Dist: pymupdf>=1.24.8
Requires-Dist: paddleocr>=2.9.1
Requires-Dist: opencv-python>=4.10.0
Requires-Dist: numpy>=1.26.0
Requires-Dist: openai>=1.35.0
Requires-Dist: jinja2>=3.1.4
Requires-Dist: sentence-transformers>=2.7.0
Requires-Dist: torch>=2.2.0
Requires-Dist: transformers>=4.40.0
Requires-Dist: huggingface-hub>=0.23.0
Requires-Dist: pytesseract>=0.3.10
Requires-Dist: pillow>=10.3.0
Provides-Extra: dev
Requires-Dist: pytest>=7.4; extra == "dev"
Requires-Dist: ruff>=0.5.0; extra == "dev"

# RAG Study Assistant (skeleton)

Local-first multimodal RAG study assistant. This step provides a runnable skeleton (CLI + Streamlit) with config, logging, DB stubs, and tests.

## Quickstart

1) Create virtualenv with uv:
   ```bash
   uv venv --python 3.11
   ```
2) Install deps (editable + dev):
   ```bash
   uv pip install -e ".[dev]"
   ```
3) Run CLI help:
   ```bash
   uv run python -m rag_assistant --help
   ```
4) Launch Streamlit UI:
   ```bash
   uv run streamlit run apps/streamlit/Home.py
   ```
5) Run tests:
   ```bash
   uv run pytest -q
   ```

## Usage notes

- Create subjects on the Home page, select one, then upload files on the Upload page. Files are stored under `data/subjects/<subject_id>/raw/` and tracked in SQLite.
- CLI includes a `subjects` helper to list/create subjects: `uv run python -m rag_assistant subjects --create "My Course"`.
- Indexing pipeline (PDF/images) runs from the Upload page via **Index new uploads**. It renders pages, runs PaddleOCR, chunks text, embeds, and pushes to Qdrant. Qdrant should be running locally (see `make qdrant`).
- Chat page performs notes-only retrieval QA; set `OPENAI_API_KEY` (and optionally `OPENAI_BASE_URL`) for embeddings/LLM.

### Reset a single asset (dev/debug)
Use this to clean up generated artifacts for one asset (e.g., re-index after OCR/debugging):
```bash
./scripts/reset_asset.sh <asset_id>
```
This keeps the raw upload but removes derived pages/OCR/chunks, resets DB status, and best-effort deletes Qdrant vectors.

### Reset all assets (dev/debug)
To reset indexing outputs for all assets in the DB (keeping raw uploads):
```bash
./scripts/reset_all_assets.sh
```
You can also run via CLI: `uv run python -m rag_assistant reset-all`.

## Qdrant

A helper script starts Qdrant locally via Docker on port 6333:
```bash
make qdrant
```
This uses a named volume `qdrant_rag_data`.

## Project structure

See `apps/`, `src/rag_assistant/`, `config/`, `scripts/`, and `tests/` for the skeleton components. Config defaults live in `config/default.yaml`; override via `.env` or environment variables.
